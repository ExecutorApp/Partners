import React, { useState } from 'react';
import {
  View,
  Text,
  StyleSheet,
  SafeAreaView,
  TouchableOpacity,
  TextInput,
  ScrollView,
  StatusBar,
  Image,
  Platform,
} from 'react-native';

// Importações das imagens dos produtos
const holdingPatrimonialImage = require('../../../assets/00001.png');
const ativosFundiariosImage = require('../../../assets/00002.png');
const planejamentoTributarioImage = require('../../../assets/00003.png');
import { useNavigation } from '@react-navigation/native';
import Svg, { Path, Mask, Rect, Circle } from 'react-native-svg';
import ModalOrderingProducts from './2.ModalOrderingProducts';
import { 
  useFonts,
  Inter_100Thin,
  Inter_200ExtraLight,
  Inter_300Light,
  Inter_400Regular,
  Inter_500Medium,
  Inter_600SemiBold,
  Inter_700Bold,
  Inter_800ExtraBold,
  Inter_900Black
} from '@expo-google-fonts/inter';

// Componente do ícone de Comissão
const ComissaoIcon = ({ size = 18, color = "#7D8592", strokeWidth = 0.15}) => (  
  
  <Svg width={size} height={size} viewBox="0 0 18 15" fill="none">
    <Mask id="path-1-outside-1_228_1427" maskUnits="userSpaceOnUse" x="-0.849976" y="-0.850098" width="19" height="16" fill="black">
      <Rect fill="white" x="-0.849976" y="-0.850098" width="26" height="22"/>
      <Path d="M5.04281 4.24812C4.98892 4.24812 4.93724 4.26919 4.89914 4.30668C4.86103 4.34417 4.83963 4.39502 4.83963 4.44805C4.83963 4.51511 4.8262 4.58152 4.80012 4.64348C4.77404 4.70543 4.73581 4.76173 4.68762 4.80915C4.63942 4.85657 4.58221 4.89419 4.51924 4.91985C4.45627 4.94552 4.38879 4.95873 4.32063 4.95873C4.25247 4.95873 4.18499 4.94552 4.12202 4.91985C4.05905 4.89419 4.00184 4.85657 3.95364 4.80915C3.90545 4.76173 3.86722 4.70543 3.84114 4.64348C3.81506 4.58152 3.80163 4.51511 3.80163 4.44805C3.80163 4.39502 3.78023 4.34417 3.74212 4.30668C3.70402 4.26919 3.65234 4.24812 3.59845 4.24812C3.54456 4.24812 3.49288 4.26919 3.45478 4.30668C3.41667 4.34417 3.39527 4.39502 3.39527 4.44805C3.39527 4.68954 3.49276 4.92113 3.6663 5.09189C3.83984 5.26265 4.07521 5.35858 4.32063 5.35858C4.56605 5.35858 4.80142 5.26265 4.97496 5.09189C5.1485 4.92113 5.24599 4.68954 5.24599 4.44805C5.24599 4.39502 5.22459 4.34417 5.18648 4.30668C5.14838 4.26919 5.0967 4.24812 5.04281 4.24812ZM10.873 6.76633C10.9087 6.76635 10.9437 6.75707 10.9746 6.73944C11.0694 6.68552 11.1676 6.63494 11.2669 6.58909C11.3146 6.56594 11.3512 6.52528 11.3688 6.47585C11.3864 6.42642 11.3836 6.37217 11.361 6.32476C11.3383 6.27736 11.2977 6.24058 11.2478 6.22234C11.1979 6.2041 11.1427 6.20585 11.0941 6.22722C10.9847 6.27787 10.8761 6.33385 10.7714 6.39326C10.7326 6.41525 10.7022 6.44925 10.6851 6.48996C10.6679 6.53067 10.6649 6.57582 10.6765 6.61839C10.6881 6.66096 10.7137 6.69855 10.7493 6.72533C10.7849 6.75211 10.8285 6.76657 10.8733 6.76646L10.873 6.76633ZM10.3653 7.16704C10.406 7.13228 10.431 7.08303 10.4348 7.03014C10.4386 6.97724 10.4209 6.92504 10.3855 6.885C10.3502 6.84496 10.3001 6.82037 10.2464 6.81665C10.1926 6.81292 10.1396 6.83036 10.0989 6.86512C9.84608 7.08122 9.6195 7.32534 9.42364 7.59262C9.16823 7.94104 8.96823 8.3257 8.83052 8.73337C8.8221 8.75828 8.81876 8.78458 8.82068 8.81077C8.82259 8.83696 8.82973 8.86252 8.84169 8.88599C8.85364 8.90946 8.87018 8.93039 8.89036 8.94757C8.91053 8.96476 8.93395 8.97786 8.95927 8.98614C8.98459 8.99442 9.01132 8.99771 9.03793 8.99582C9.06455 8.99394 9.09052 8.98691 9.11438 8.97515C9.13823 8.96338 9.1595 8.94711 9.17696 8.92726C9.19443 8.90741 9.20774 8.88437 9.21616 8.85945C9.34089 8.4903 9.52203 8.14199 9.75334 7.8265C9.93082 7.5842 10.1362 7.36292 10.3653 7.16704Z"/>
      <Path d="M13.6943 6.98711C13.7094 6.83317 13.7176 6.67799 13.7176 6.52342C13.7176 6.46151 13.716 6.40013 13.7136 6.33858C14.0649 6.30117 14.3898 6.13747 14.626 5.87885C14.8623 5.62024 14.9932 5.28492 14.9936 4.9372C14.9936 4.88418 14.9722 4.83333 14.9341 4.79583C14.896 4.75834 14.8443 4.73728 14.7904 4.73728C14.7365 4.73728 14.6849 4.75834 14.6467 4.79583C14.6086 4.83333 14.5872 4.88418 14.5872 4.9372C14.5869 5.18443 14.4945 5.42296 14.3275 5.60768C14.1605 5.79241 13.9305 5.91051 13.681 5.93966C13.3554 3.32396 10.8689 1.28315 7.85906 1.28315C7.496 1.28322 7.13349 1.31096 6.77478 1.36612C6.52421 0.992481 6.18339 0.685809 5.78283 0.47356C5.38227 0.26131 4.93447 0.150106 4.47952 0.149902C4.44775 0.149902 4.41642 0.157234 4.38804 0.171309C4.35967 0.185384 4.33505 0.20581 4.31616 0.230946C4.29727 0.256083 4.28463 0.285228 4.27926 0.316042C4.27389 0.346856 4.27594 0.37848 4.28524 0.408374L4.34772 0.609133C4.47654 1.02097 4.52469 1.45314 4.48961 1.88266C3.35863 2.32715 2.39846 3.11054 1.74511 4.12184L1.489 4.52002H0.77803C0.61151 4.5202 0.451863 4.58537 0.334125 4.70124C0.216387 4.81711 0.150177 4.97421 0.150024 5.13806V7.79195C0.150204 7.95578 0.216425 8.11286 0.334159 8.22871C0.451893 8.34457 0.611524 8.40973 0.77803 8.40992H1.50295C1.69887 8.7862 1.9447 9.13521 2.23401 9.4478C2.80997 10.0785 3.12707 10.8974 3.12368 11.7454C3.12391 11.9618 3.2114 12.1693 3.36694 12.3224C3.52248 12.4754 3.73337 12.5615 3.95334 12.5617H4.82463C5.0446 12.5615 5.2555 12.4754 5.41104 12.3224C5.56658 12.1693 5.65407 11.9618 5.65429 11.7454C5.65439 11.6349 5.69902 11.529 5.77838 11.4509C5.85774 11.3729 5.96535 11.3289 6.07759 11.3288H7.70376C7.816 11.3289 7.92361 11.3729 8.00297 11.4509C8.08234 11.529 8.12696 11.6349 8.12706 11.7454C8.12729 11.9618 8.21477 12.1693 8.37031 12.3224C8.52586 12.4754 8.73676 12.5615 8.95673 12.5617H10.4827C10.8285 13.0693 11.3005 13.4815 11.8539 13.759C12.4072 14.0366 13.0235 14.1703 13.6442 14.1474C14.2649 14.1245 14.8693 13.9459 15.4 13.6284C15.9307 13.3109 16.37 12.8651 16.6763 12.3335C16.9826 11.8018 17.1457 11.2019 17.1499 10.5908C17.1542 9.9797 16.9996 9.37766 16.7008 8.84191C16.4019 8.30616 15.9688 7.8545 15.4426 7.52986C14.9164 7.20522 14.3146 7.01839 13.6943 6.98711ZM8.95622 12.1616C8.84398 12.1615 8.73637 12.1176 8.65701 12.0395C8.57765 11.9614 8.53302 11.8555 8.53292 11.7451C8.53271 11.5286 8.44523 11.3211 8.28968 11.1681C8.13414 11.015 7.92323 10.9289 7.70326 10.9287H6.07728C5.85731 10.9289 5.64641 11.015 5.49086 11.1681C5.33531 11.3211 5.24783 11.5286 5.24762 11.7451C5.24752 11.8555 5.20289 11.9614 5.12353 12.0395C5.04417 12.1176 4.93656 12.1615 4.82432 12.1616H3.95324C3.84101 12.1615 3.7334 12.1176 3.65403 12.0395C3.57467 11.9614 3.53004 11.8555 3.52994 11.7451C3.53341 10.7982 3.17901 9.8838 2.5356 9.17964C2.24349 8.86484 2.0002 8.50935 1.81359 8.12466C1.79715 8.09039 1.77115 8.06142 1.73863 8.04114C1.7061 8.02085 1.66839 8.01007 1.62988 8.01007H0.77803C0.719261 8.01 0.662917 7.987 0.621365 7.94611C0.579812 7.90522 0.556445 7.84977 0.556391 7.79195V5.13806C0.556462 5.08025 0.579838 5.02482 0.621389 4.98394C0.662939 4.94306 0.719273 4.92007 0.77803 4.92001H1.60092C1.63519 4.92001 1.6689 4.91147 1.69892 4.89521C1.72894 4.87894 1.75429 4.85547 1.77261 4.82698L2.08856 4.33579C2.71622 3.3641 3.64808 2.61967 4.74349 2.21487C4.78031 2.20289 4.81288 2.18078 4.83735 2.15116C4.86181 2.12154 4.87715 2.08566 4.88155 2.04773C4.94002 1.55072 4.8982 1.04723 4.75849 0.566149C5.32793 0.634027 5.85246 0.904561 6.23316 1.32674C6.61386 1.74892 6.82444 2.29356 6.82517 2.85797C6.82517 2.91099 6.84657 2.96184 6.88468 2.99934C6.92278 3.03683 6.97446 3.0579 7.02835 3.0579C7.08224 3.0579 7.13392 3.03683 7.17202 2.99934C7.21013 2.96184 7.23153 2.91099 7.23153 2.85797C7.23177 2.4722 7.14769 2.0909 6.985 1.73992C7.27479 1.70232 7.56677 1.6834 7.85906 1.68327C10.8654 1.68327 13.3111 3.85467 13.3111 6.52368C13.3111 6.67927 13.3028 6.83475 13.2862 6.98948C12.6858 7.02516 12.1037 7.20663 11.592 7.51767C11.0803 7.82871 10.6548 8.25964 10.3537 8.77195C10.0525 9.28426 9.88503 9.86199 9.86617 10.4535C9.84731 11.0451 9.97766 11.632 10.2456 12.1619L8.95622 12.1616ZM13.507 13.751C12.867 13.751 12.2413 13.5643 11.7091 13.2143C11.1769 12.8644 10.7621 12.3671 10.5171 11.7852C10.2722 11.2034 10.2081 10.5631 10.333 9.94537C10.4578 9.32765 10.7661 8.76025 11.2187 8.31491C11.6713 7.86956 12.2479 7.56628 12.8757 7.44341C13.5035 7.32055 14.1542 7.38361 14.7455 7.62464C15.3369 7.86566 15.8423 8.27382 16.1979 8.79749C16.5535 9.32117 16.7433 9.93684 16.7433 10.5667C16.7423 11.4109 16.4011 12.2203 15.7944 12.8173C15.1876 13.4143 14.3651 13.7501 13.507 13.751Z"/>
      <Path d="M13.507 9.21076C13.6604 9.2109 13.8075 9.27091 13.916 9.37763C14.0244 9.48435 14.0854 9.62905 14.0856 9.77998C14.0856 9.833 14.107 9.88386 14.1451 9.92135C14.1832 9.95884 14.2349 9.97991 14.2888 9.97991C14.3426 9.97991 14.3943 9.95884 14.4324 9.92135C14.4705 9.88386 14.4919 9.833 14.4919 9.77998C14.4916 9.55776 14.4139 9.34237 14.2716 9.16979C14.1293 8.99721 13.9312 8.87789 13.7102 8.83176V8.58822C13.7102 8.5352 13.6888 8.48434 13.6507 8.44685C13.6126 8.40936 13.5609 8.38829 13.507 8.38829C13.4532 8.38829 13.4015 8.40936 13.3634 8.44685C13.3253 8.48434 13.3039 8.5352 13.3039 8.58822V8.83176C13.0656 8.88121 12.8544 9.01576 12.711 9.20943C12.5677 9.4031 12.5023 9.64217 12.5276 9.88049C12.5528 10.1188 12.6669 10.3395 12.8478 10.4999C13.0287 10.6603 13.2635 10.749 13.507 10.7491C13.6599 10.7492 13.8064 10.8089 13.9146 10.915C14.0229 11.0211 14.084 11.1651 14.0848 11.3154C14.0855 11.4658 14.0257 11.6103 13.9185 11.7175C13.8113 11.8246 13.6654 11.8857 13.5126 11.8873C13.5107 11.8873 13.5089 11.887 13.507 11.887C13.5052 11.887 13.5034 11.8872 13.5015 11.8873C13.3491 11.8857 13.2035 11.8251 13.0963 11.7186C12.989 11.6121 12.9288 11.4682 12.9286 11.3183C12.9286 11.2653 12.9071 11.2144 12.869 11.1769C12.8309 11.1394 12.7793 11.1184 12.7254 11.1184C12.6715 11.1184 12.6198 11.1394 12.5817 11.1769C12.5436 11.2144 12.5222 11.2653 12.5222 11.3183C12.5225 11.5405 12.6003 11.7559 12.7425 11.9285C12.8848 12.1011 13.0829 12.2204 13.3039 12.2665V12.5451C13.3039 12.5981 13.3253 12.6489 13.3634 12.6864C13.4015 12.7239 13.4532 12.745 13.507 12.745C13.5609 12.745 13.6126 12.7239 13.6507 12.6864C13.6888 12.6489 13.7102 12.5981 13.7102 12.5451V12.2665C13.9485 12.2171 14.1598 12.0826 14.3032 11.8889C14.4466 11.6952 14.512 11.4561 14.4867 11.2178C14.4614 10.9794 14.3473 10.7588 14.1664 10.5983C13.9855 10.4379 13.7506 10.3492 13.507 10.3492C13.3536 10.3492 13.2065 10.2892 13.098 10.1825C12.9895 10.0757 12.9286 9.93095 12.9286 9.77998C12.9286 9.62901 12.9895 9.48423 13.098 9.37748C13.2065 9.27073 13.3536 9.21076 13.507 9.21076Z" fill={color} stroke={color} strokeWidth={strokeWidth}/>
    </Mask>
    <Path d="M5.04281 4.24812C4.98892 4.24812 4.93724 4.26919 4.89914 4.30668C4.86103 4.34417 4.83963 4.39502 4.83963 4.44805C4.83963 4.51511 4.8262 4.58152 4.80012 4.64348C4.77404 4.70543 4.73581 4.76173 4.68762 4.80915C4.63942 4.85657 4.58221 4.89419 4.51924 4.91985C4.45627 4.94552 4.38879 4.95873 4.32063 4.95873C4.25247 4.95873 4.18499 4.94552 4.12202 4.91985C4.05905 4.89419 4.00184 4.85657 3.95364 4.80915C3.90545 4.76173 3.86722 4.70543 3.84114 4.64348C3.81506 4.58152 3.80163 4.51511 3.80163 4.44805C3.80163 4.39502 3.78023 4.34417 3.74212 4.30668C3.70402 4.26919 3.65234 4.24812 3.59845 4.24812C3.54456 4.24812 3.49288 4.26919 3.45478 4.30668C3.41667 4.34417 3.39527 4.39502 3.39527 4.44805C3.39527 4.68954 3.49276 4.92113 3.6663 5.09189C3.83984 5.26265 4.07521 5.35858 4.32063 5.35858C4.56605 5.35858 4.80142 5.26265 4.97496 5.09189C5.1485 4.92113 5.24599 4.68954 5.24599 4.44805C5.24599 4.39502 5.22459 4.34417 5.18648 4.30668C5.14838 4.26919 5.0967 4.24812 5.04281 4.24812ZM10.873 6.76633C10.9087 6.76635 10.9437 6.75707 10.9746 6.73944C11.0694 6.68552 11.1676 6.63494 11.2669 6.58909C11.3146 6.56594 11.3512 6.52528 11.3688 6.47585C11.3864 6.42642 11.3836 6.37217 11.361 6.32476C11.3383 6.27736 11.2977 6.24058 11.2478 6.22234C11.1979 6.2041 11.1427 6.20585 11.0941 6.22722C10.9847 6.27787 10.8761 6.33385 10.7714 6.39326C10.7326 6.41525 10.7022 6.44925 10.6851 6.48996C10.6679 6.53067 10.6649 6.57582 10.6765 6.61839C10.6881 6.66096 10.7137 6.69855 10.7493 6.72533C10.7849 6.75211 10.8285 6.76657 10.8733 6.76646L10.873 6.76633ZM10.3653 7.16704C10.406 7.13228 10.431 7.08303 10.4348 7.03014C10.4386 6.97724 10.4209 6.92504 10.3855 6.885C10.3502 6.84496 10.3001 6.82037 10.2464 6.81665C10.1926 6.81292 10.1396 6.83036 10.0989 6.86512C9.84608 7.08122 9.6195 7.32534 9.42364 7.59262C9.16823 7.94104 8.96823 8.3257 8.83052 8.73337C8.8221 8.75828 8.81876 8.78458 8.82068 8.81077C8.82259 8.83696 8.82973 8.86252 8.84169 8.88599C8.85364 8.90946 8.87018 8.93039 8.89036 8.94757C8.91053 8.96476 8.93395 8.97786 8.95927 8.98614C8.98459 8.99442 9.01132 8.99771 9.03793 8.99582C9.06455 8.99394 9.09052 8.98691 9.11438 8.97515C9.13823 8.96338 9.1595 8.94711 9.17696 8.92726C9.19443 8.90741 9.20774 8.88437 9.21616 8.85945C9.34089 8.4903 9.52203 8.14199 9.75334 7.8265C9.93082 7.5842 10.1362 7.36292 10.3653 7.16704Z" fill={color} stroke={color} strokeWidth={strokeWidth}/>
    <Path d="M13.6943 6.98711C13.7094 6.83317 13.7176 6.67799 13.7176 6.52342C13.7176 6.46151 13.716 6.40013 13.7136 6.33858C14.0649 6.30117 14.3898 6.13747 14.626 5.87885C14.8623 5.62024 14.9932 5.28492 14.9936 4.9372C14.9936 4.88418 14.9722 4.83333 14.9341 4.79583C14.896 4.75834 14.8443 4.73728 14.7904 4.73728C14.7365 4.73728 14.6849 4.75834 14.6467 4.79583C14.6086 4.83333 14.5872 4.88418 14.5872 4.9372C14.5869 5.18443 14.4945 5.42296 14.3275 5.60768C14.1605 5.79241 13.9305 5.91051 13.681 5.93966C13.3554 3.32396 10.8689 1.28315 7.85906 1.28315C7.496 1.28322 7.13349 1.31096 6.77478 1.36612C6.52421 0.992481 6.18339 0.685809 5.78283 0.47356C5.38227 0.26131 4.93447 0.150106 4.47952 0.149902C4.44775 0.149902 4.41642 0.157234 4.38804 0.171309C4.35967 0.185384 4.33505 0.20581 4.31616 0.230946C4.29727 0.256083 4.28463 0.285228 4.27926 0.316042C4.27389 0.346856 4.27594 0.37848 4.28524 0.408374L4.34772 0.609133C4.47654 1.02097 4.52469 1.45314 4.48961 1.88266C3.35863 2.32715 2.39846 3.11054 1.74511 4.12184L1.489 4.52002H0.77803C0.61151 4.5202 0.451863 4.58537 0.334125 4.70124C0.216387 4.81711 0.150177 4.97421 0.150024 5.13806V7.79195C0.150204 7.95578 0.216425 8.11286 0.334159 8.22871C0.451893 8.34457 0.611524 8.40973 0.77803 8.40992H1.50295C1.69887 8.7862 1.9447 9.13521 2.23401 9.4478C2.80997 10.0785 3.12707 10.8974 3.12368 11.7454C3.12391 11.9618 3.2114 12.1693 3.36694 12.3224C3.52248 12.4754 3.73337 12.5615 3.95334 12.5617H4.82463C5.0446 12.5615 5.2555 12.4754 5.41104 12.3224C5.56658 12.1693 5.65407 11.9618 5.65429 11.7454C5.65439 11.6349 5.69902 11.529 5.77838 11.4509C5.85774 11.3729 5.96535 11.3289 6.07759 11.3288H7.70376C7.816 11.3289 7.92361 11.3729 8.00297 11.4509C8.08234 11.529 8.12696 11.6349 8.12706 11.7454C8.12729 11.9618 8.21477 12.1693 8.37031 12.3224C8.52586 12.4754 8.73676 12.5615 8.95673 12.5617H10.4827C10.8285 13.0693 11.3005 13.4815 11.8539 13.759C12.4072 14.0366 13.0235 14.1703 13.6442 14.1474C14.2649 14.1245 14.8693 13.9459 15.4 13.6284C15.9307 13.3109 16.37 12.8651 16.6763 12.3335C16.9826 11.8018 17.1457 11.2019 17.1499 10.5908C17.1542 9.9797 16.9996 9.37766 16.7008 8.84191C16.4019 8.30616 15.9688 7.8545 15.4426 7.52986C14.9164 7.20522 14.3146 7.01839 13.6943 6.98711ZM8.95622 12.1616C8.84398 12.1615 8.73637 12.1176 8.65701 12.0395C8.57765 11.9614 8.53302 11.8555 8.53292 11.7451C8.53271 11.5286 8.44523 11.3211 8.28968 11.1681C8.13414 11.015 7.92323 10.9289 7.70326 10.9287H6.07728C5.85731 10.9289 5.64641 11.015 5.49086 11.1681C5.33531 11.3211 5.24783 11.5286 5.24762 11.7451C5.24752 11.8555 5.20289 11.9614 5.12353 12.0395C5.04417 12.1176 4.93656 12.1615 4.82432 12.1616H3.95324C3.84101 12.1615 3.7334 12.1176 3.65403 12.0395C3.57467 11.9614 3.53004 11.8555 3.52994 11.7451C3.53341 10.7982 3.17901 9.8838 2.5356 9.17964C2.24349 8.86484 2.0002 8.50935 1.81359 8.12466C1.79715 8.09039 1.77115 8.06142 1.73863 8.04114C1.7061 8.02085 1.66839 8.01007 1.62988 8.01007H0.77803C0.719261 8.01 0.662917 7.987 0.621365 7.94611C0.579812 7.90522 0.556445 7.84977 0.556391 7.79195V5.13806C0.556462 5.08025 0.579838 5.02482 0.621389 4.98394C0.662939 4.94306 0.719273 4.92007 0.77803 4.92001H1.60092C1.63519 4.92001 1.6689 4.91147 1.69892 4.89521C1.72894 4.87894 1.75429 4.85547 1.77261 4.82698L2.08856 4.33579C2.71622 3.3641 3.64808 2.61967 4.74349 2.21487C4.78031 2.20289 4.81288 2.18078 4.83735 2.15116C4.86181 2.12154 4.87715 2.08566 4.88155 2.04773C4.94002 1.55072 4.8982 1.04723 4.75849 0.566149C5.32793 0.634027 5.85246 0.904561 6.23316 1.32674C6.61386 1.74892 6.82444 2.29356 6.82517 2.85797C6.82517 2.91099 6.84657 2.96184 6.88468 2.99934C6.92278 3.03683 6.97446 3.0579 7.02835 3.0579C7.08224 3.0579 7.13392 3.03683 7.17202 2.99934C7.21013 2.96184 7.23153 2.91099 7.23153 2.85797C7.23177 2.4722 7.14769 2.0909 6.985 1.73992C7.27479 1.70232 7.56677 1.6834 7.85906 1.68327C10.8654 1.68327 13.3111 3.85467 13.3111 6.52368C13.3111 6.67927 13.3028 6.83475 13.2862 6.98948C12.6858 7.02516 12.1037 7.20663 11.592 7.51767C11.0803 7.82871 10.6548 8.25964 10.3537 8.77195C10.0525 9.28426 9.88503 9.86199 9.86617 10.4535C9.84731 11.0451 9.97766 11.632 10.2456 12.1619L8.95622 12.1616ZM13.507 13.751C12.867 13.751 12.2413 13.5643 11.7091 13.2143C11.1769 12.8644 10.7621 12.3671 10.5171 11.7852C10.2722 11.2034 10.2081 10.5631 10.333 9.94537C10.4578 9.32765 10.7661 8.76025 11.2187 8.31491C11.6713 7.86956 12.2479 7.56628 12.8757 7.44341C13.5035 7.32055 14.1542 7.38361 14.7455 7.62464C15.3369 7.86566 15.8423 8.27382 16.1979 8.79749C16.5535 9.32117 16.7433 9.93684 16.7433 10.5667C16.7423 11.4109 16.4011 12.2203 15.7944 12.8173C15.1876 13.4143 14.3651 13.7501 13.507 13.751Z" fill={color} stroke={color} strokeWidth={strokeWidth}/>
    <Path d="M13.507 9.21076C13.6604 9.2109 13.8075 9.27091 13.916 9.37763C14.0244 9.48435 14.0854 9.62905 14.0856 9.77998C14.0856 9.833 14.107 9.88386 14.1451 9.92135C14.1832 9.95884 14.2349 9.97991 14.2888 9.97991C14.3426 9.97991 14.3943 9.95884 14.4324 9.92135C14.4705 9.88386 14.4919 9.833 14.4919 9.77998C14.4916 9.55776 14.4139 9.34237 14.2716 9.16979C14.1293 8.99721 13.9312 8.87789 13.7102 8.83176V8.58822C13.7102 8.5352 13.6888 8.48434 13.6507 8.44685C13.6126 8.40936 13.5609 8.38829 13.507 8.38829C13.4532 8.38829 13.4015 8.40936 13.3634 8.44685C13.3253 8.48434 13.3039 8.5352 13.3039 8.58822V8.83176C13.0656 8.88121 12.8544 9.01576 12.711 9.20943C12.5677 9.4031 12.5023 9.64217 12.5276 9.88049C12.5528 10.1188 12.6669 10.3395 12.8478 10.4999C13.0287 10.6603 13.2635 10.749 13.507 10.7491C13.6599 10.7492 13.8064 10.8089 13.9146 10.915C14.0229 11.0211 14.084 11.1651 14.0848 11.3154C14.0855 11.4658 14.0257 11.6103 13.9185 11.7175C13.8113 11.8246 13.6654 11.8857 13.5126 11.8873C13.5107 11.8873 13.5089 11.887 13.507 11.887C13.5052 11.887 13.5034 11.8872 13.5015 11.8873C13.3491 11.8857 13.2035 11.8251 13.0963 11.7186C12.989 11.6121 12.9288 11.4682 12.9286 11.3183C12.9286 11.2653 12.9071 11.2144 12.869 11.1769C12.8309 11.1394 12.7793 11.1184 12.7254 11.1184C12.6715 11.1184 12.6198 11.1394 12.5817 11.1769C12.5436 11.2144 12.5222 11.2653 12.5222 11.3183C12.5225 11.5405 12.6003 11.7559 12.7425 11.9285C12.8848 12.1011 13.0829 12.2204 13.3039 12.2665V12.5451C13.3039 12.5981 13.3253 12.6489 13.3634 12.6864C13.4015 12.7239 13.4532 12.745 13.507 12.745C13.5609 12.745 13.6126 12.7239 13.6507 12.6864C13.6888 12.6489 13.7102 12.5981 13.7102 12.5451V12.2665C13.9485 12.2171 14.1598 12.0826 14.3032 11.8889C14.4466 11.6952 14.512 11.4561 14.4867 11.2178C14.4614 10.9794 14.3473 10.7588 14.1664 10.5983C13.9855 10.4379 13.7506 10.3492 13.507 10.3492C13.3536 10.3492 13.2065 10.2892 13.098 10.1825C12.9895 10.0757 12.9286 9.93095 12.9286 9.77998C12.9286 9.62901 12.9895 9.48423 13.098 9.37748C13.2065 9.27073 13.3536 9.21076 13.507 9.21076Z" fill={color} stroke={color} strokeWidth="0.15"/>
  </Svg>
);

// Componente do ícone de Ticket médio
const TicketMedioIcon = ({ size = 18, color = "#7D8592" }) => (
  <Svg width={size} height={size} viewBox="0 0 12 14" fill="none">
    <Path d="M6.47047 8.78711H5.67183C5.38141 8.78711 5.14618 8.55135 5.14618 8.26029C5.14618 7.96923 5.38141 7.73347 5.67183 7.73347H7.07744C7.26912 7.73347 7.42594 7.5763 7.42594 7.3842C7.42594 7.1921 7.26912 7.03493 7.07744 7.03493H6.4182V6.54886C6.4182 6.35676 6.26137 6.19958 6.0697 6.19958C5.87802 6.19958 5.7212 6.35676 5.7212 6.54886V7.03493H5.67183C4.99806 7.03493 4.44918 7.58503 4.44918 8.26029C4.44918 8.93555 4.99806 9.48565 5.67183 9.48565H6.47047C6.76089 9.48565 6.99613 9.72141 6.99613 10.0125C6.99613 10.3035 6.76089 10.5393 6.47047 10.5393H5.03872C4.84705 10.5393 4.69022 10.6965 4.69022 10.8886C4.69022 11.0807 4.84705 11.2378 5.03872 11.2378H5.7241V11.7356C5.7241 11.9277 5.88093 12.0848 6.0726 12.0848C6.26428 12.0848 6.4211 11.9277 6.4211 11.7356V11.2378H6.4879C7.15586 11.2291 7.69313 10.6819 7.69313 10.0125C7.69313 9.33721 7.14424 8.78711 6.47047 8.78711Z" fill={color}/>
    <Path d="M11.3088 7.99543C10.9429 7.15135 10.4376 6.33347 9.79864 5.56798C9.02614 4.63659 8.25653 4.01372 7.86447 3.72557L9.3456 0.972141C9.4182 0.835343 9.39497 0.666528 9.2817 0.558836C8.89835 0.183368 8.49177 0 8.03872 0C7.62343 0 7.24298 0.157173 6.91191 0.296881C6.65053 0.404574 6.40368 0.509356 6.20329 0.509356C6.1423 0.509356 6.09003 0.500624 6.03775 0.480249C5.34656 0.227027 4.8151 0.0698545 4.30106 0.0698545C3.65053 0.0698545 3.09584 0.331809 2.55276 0.890645C2.4395 1.00707 2.42207 1.19044 2.5121 1.32723L4.10939 3.74595C3.71442 4.03992 2.95934 4.65696 2.20135 5.56798C1.56534 6.33347 1.05712 7.15135 0.691191 7.99543C0.232333 9.0578 0 10.1667 0 11.2902C0 12.7834 1.21394 14 2.70378 14H9.29622C10.7861 14 12 12.7834 12 11.2902C12 10.1667 11.7677 9.0578 11.3088 7.99543ZM3.25557 1.1817C3.59245 0.890644 3.91481 0.762578 4.30106 0.762578C4.71346 0.762578 5.17812 0.902287 5.79671 1.13222C5.92449 1.17879 6.06099 1.20208 6.20039 1.20208C6.54017 1.20208 6.86544 1.06819 7.17619 0.937214C7.47531 0.812058 7.75992 0.692723 8.03582 0.692723C8.16941 0.692723 8.35818 0.716008 8.59632 0.884823L7.20232 3.48108H4.77444L3.25557 1.1817ZM9.29622 13.3015H2.70378C1.59729 13.3015 0.696999 12.3992 0.696999 11.2902C0.696999 9.42453 1.37948 7.65489 2.7212 6.03077C3.56922 5.00333 4.43175 4.3659 4.69313 4.17963H7.30106C7.56534 4.36299 8.42498 5.00333 9.27299 6.03077C10.6176 7.65489 11.2972 9.42162 11.2972 11.2902C11.303 12.3992 10.4027 13.3015 9.29622 13.3015Z" fill={color}/>
  </Svg>
);

// Componente do ícone de Tempo médio de fechamento
const TempoMedioIcon = ({ size = 18, color = "#7D8592" }) => (
  <Svg width={size} height={size} viewBox="0 0 11 15" fill="none">
    <Path d="M9.45349 0.050293C9.63733 0.0504608 9.81398 0.120012 9.9447 0.244629C10.0754 0.369309 10.1495 0.53891 10.1498 0.716309V1.79639C10.1495 1.97386 10.0755 2.14332 9.9447 2.26807C9.81397 2.39277 9.6374 2.46321 9.45349 2.46338H9.32458C9.27363 4.44769 8.39337 6.21088 7.01501 7.1001C8.39337 7.98948 9.27363 9.75267 9.32458 11.7368H9.45349C9.6374 11.737 9.81397 11.8074 9.9447 11.9321C10.0755 12.0569 10.1495 12.2263 10.1498 12.4038V13.4839C10.1495 13.6613 10.0754 13.8309 9.9447 13.9556C9.81398 14.0802 9.63733 14.1497 9.45349 14.1499H0.74646C0.562624 14.1497 0.385971 14.0802 0.255249 13.9556C0.124524 13.8309 0.0505006 13.6613 0.0501709 13.4839V12.4038C0.0504178 12.2263 0.124491 12.0569 0.255249 11.9321C0.385984 11.8074 0.562553 11.737 0.74646 11.7368H0.875366C0.926313 9.75301 1.806 7.98963 3.18396 7.1001C1.806 6.21073 0.926311 4.44735 0.875366 2.46338H0.74646C0.562553 2.46321 0.385985 2.39277 0.255249 2.26807C0.124491 2.14332 0.0504176 1.97386 0.0501709 1.79639V0.716309C0.0505008 0.538911 0.124524 0.369309 0.255249 0.244629C0.385971 0.120012 0.562624 0.0504607 0.74646 0.050293H9.45349ZM0.74646 12.187C0.617753 12.1871 0.517176 12.2866 0.516968 12.4038V13.4829C0.516968 13.6 0.617597 13.6996 0.74646 13.6997H9.45349C9.58235 13.6996 9.68298 13.6 9.68298 13.4829V12.4038C9.68277 12.2866 9.5822 12.1871 9.45349 12.187H0.74646ZM1.34314 2.46338C1.39567 4.3005 2.2358 5.96674 3.48669 6.75439L3.74451 6.90088L3.79529 6.93701C3.81028 6.9508 3.82351 6.96653 3.83435 6.98389C3.85618 7.01887 3.86755 7.05901 3.86755 7.1001C3.86755 7.14118 3.85618 7.18132 3.83435 7.21631C3.81251 7.25129 3.78143 7.28024 3.74451 7.29932C2.35261 8.0108 1.3992 9.77642 1.34314 11.7368H8.85681C8.80075 9.77658 7.84733 8.01062 6.45544 7.29932C6.41845 7.28029 6.3875 7.2513 6.3656 7.21631C6.34372 7.18131 6.33142 7.14122 6.33142 7.1001C6.33142 7.05898 6.34372 7.01888 6.3656 6.98389C6.3875 6.94889 6.41845 6.91991 6.45544 6.90088C7.84733 6.18975 8.80076 4.42396 8.85681 2.46338H1.34314ZM3.80017 8.85498C3.8543 8.82854 3.91713 8.82311 3.97498 8.84033C4.03257 8.8576 4.08145 8.89589 4.11072 8.94775C4.14006 8.99995 4.14668 9.06149 4.12927 9.11865C4.1118 9.17581 4.07211 9.224 4.01892 9.25244H4.01794C3.57915 9.47645 3.13627 10.0304 3.13611 10.6489C3.13611 10.7093 3.11067 10.7671 3.06677 10.8091C3.02294 10.8509 2.96372 10.8744 2.90271 10.8745C2.84154 10.8745 2.78161 10.851 2.73767 10.8091C2.69381 10.7671 2.66931 10.7093 2.66931 10.6489C2.66947 9.81104 3.25555 9.13311 3.79919 8.85498H3.80017ZM0.74646 0.500488C0.617597 0.500547 0.516968 0.600146 0.516968 0.717285V1.79639C0.517176 1.91356 0.617752 2.01312 0.74646 2.01318H9.45349C9.5822 2.01312 9.68278 1.91356 9.68298 1.79639V0.717285C9.68298 0.600147 9.58235 0.500548 9.45349 0.500488H0.74646Z" fill={color} stroke={color} strokeWidth="0.1"/>
  </Svg>
);

const ProductListScreen = () => {
  const navigation = useNavigation();
  const [searchText, setSearchText] = useState('');
  const handleSearchTextChange = (text: string) => {
    let i = 0;
    while (i < text.length && text[i] === ' ') i++;
    if (i >= text.length) {
      setSearchText(text);
      return;
    }
    const first = text[i].toUpperCase();
    const transformed = text.slice(0, i) + first + text.slice(i + 1);
    setSearchText(transformed);
  };
  const [isModalVisible, setIsModalVisible] = useState(false);
  const [selectedSortOption, setSelectedSortOption] = useState({
    category: 'Tempo médio de fechamento',
    option: 'Mais recentes primeiro'
  });
  const [sortBy, setSortBy] = useState('Mais recentes primeiro');

  // Funções para controlar o modal
  const openModal = () => setIsModalVisible(true);
  const closeModal = () => setIsModalVisible(false);
  
  const handleSortSelection = (category: string, option: string) => {
    setSelectedSortOption({ category, option });
    setSortBy(option);
    closeModal();
  };

  const [fontsLoaded] = useFonts({
    Inter_100Thin,
    Inter_200ExtraLight,
    Inter_300Light,
    Inter_400Regular,
    Inter_500Medium,
    Inter_600SemiBold,
    Inter_700Bold,
    Inter_800ExtraBold,
    Inter_900Black,
  });

  if (!fontsLoaded) {
    return null;
  }

  const products = [
    {
      id: 1,
      title: 'Holding Patrimonial',
      commission: '20%',
      averageTicket: 'R$ 10.000',
      averageClosingTime: '30 Dias',
      image: holdingPatrimonialImage,
    },
    {
      id: 2,
      title: 'Ativos Fundiários',
      commission: '15%',
      averageTicket: 'R$ 6.000',
      averageClosingTime: '21 Dias',
      image: ativosFundiariosImage,
    },
    {
      id: 3,
      title: 'Planejamento Tributário',
      commission: '10%',
      averageTicket: 'R$ 4.000',
      averageClosingTime: '10 Dias',
      image: planejamentoTributarioImage,
    },
  ];

  // Filtragem em tempo real pelo nome do produto
  const normalizedSearch = searchText.trim().toLowerCase();
  const filteredProducts = normalizedSearch.length === 0
    ? products
    : products.filter((p) => p.title.toLowerCase().includes(normalizedSearch));

  // Ordenação baseada na opção selecionada no modal
  const parseNumberOnly = (value: string) => {
    const digits = value.replace(/[^0-9]/g, '');
    return Number(digits);
  };

  const sortedProducts = (() => {
    const list = [...filteredProducts];
    const { category, option } = selectedSortOption;

    if (category === 'Data de adição') {
      if (option === 'Mais antigos primeiro') {
        return list.reverse();
      }
      // 'Mais recentes primeiro' mantém a ordem original
      return list;
    }

    if (category === 'Comissão') {
      return list.sort((a, b) => {
        const av = parseNumberOnly(a.commission);
        const bv = parseNumberOnly(b.commission);
        return option === 'Maior para o menor' ? bv - av : av - bv;
      });
    }

    if (category === 'Ticket médio') {
      return list.sort((a, b) => {
        const av = parseNumberOnly(a.averageTicket);
        const bv = parseNumberOnly(b.averageTicket);
        return option === 'Maior para o menor' ? bv - av : av - bv;
      });
    }

    if (category === 'Tempo médio de fechamento') {
      return list.sort((a, b) => {
        const av = parseNumberOnly(a.averageClosingTime);
        const bv = parseNumberOnly(b.averageClosingTime);
        return option === 'Maior para o menor' ? bv - av : av - bv;
      });
    }

    // Qualquer outra combinação mantém a ordem atual
    return list;
  })();

  const renderProductCard = (product: any) => (
    <View key={product.id} style={styles.productCard}>
      <View style={styles.productImageContainer}>
        <Image 
          source={product.image} 
          style={styles.productImage}
          resizeMode="cover"
        />
      </View>
      <View style={styles.productInfo}>
        <Text style={styles.productTitle}>{product.title}</Text>
        <View style={styles.divider} />
        
        <View style={styles.productDetail}>
           <Text style={styles.detailLabel}>Comissão</Text>
           <Text style={styles.detailValue}>{product.commission}</Text>
         </View>
         
         <View style={styles.divider} />
         
         <View style={styles.productDetail}>
           <Text style={styles.detailLabel}>Ticket médio</Text>
           <Text style={styles.detailValue}>{product.averageTicket}</Text>
         </View>
         
         <View style={styles.divider} />
         
         <View style={styles.productDetail}>
           <Text style={styles.detailLabel}>Tempo médio de fechamento</Text>
           <Text style={styles.detailValue}>{product.averageClosingTime}</Text>
         </View>
      </View>
    </View>
  );

  return (
    <SafeAreaView style={styles.container}>
      <StatusBar barStyle="dark-content" backgroundColor="#fcfcfc" />
      
      {/* Header */}
      <View style={styles.header}>
         <View style={styles.statusBar}>
           <Text style={[styles.statusTime, styles.statusTimeHidden]}>9:41</Text>
           <View style={styles.statusIcons}>
           </View>
         </View>
         
         <View style={styles.headerContent}>
           <View style={styles.titleContainer}>
             <Text style={styles.headerTitle}>Produtos (06)</Text>
           </View>
           
           <View style={styles.headerActions}>
            <View style={styles.notificationContainer}>
              <View style={styles.bellIcon}>
                <Svg width={22} height={26} viewBox="0 0 22 26" fill="none">
                  <Path d="M14.3895 20.1344V21.0575C14.3895 22.0368 14.0067 22.976 13.3254 23.6685C12.644 24.361 11.7198 24.75 10.7562 24.75C9.79263 24.75 8.86849 24.361 8.18711 23.6685C7.50574 22.976 7.12295 22.0368 7.12295 21.0575V20.1344M20.5025 18.2563C19.0446 16.4429 18.0154 15.5198 18.0154 10.5206C18.0154 5.94251 15.715 4.31149 13.8218 3.51934C13.5703 3.41434 13.3335 3.17317 13.2569 2.91066C12.9248 1.76196 11.9938 0.75 10.7562 0.75C9.51858 0.75 8.58699 1.76254 8.25829 2.91182C8.18165 3.17721 7.94492 3.41434 7.69343 3.51934C5.79788 4.31264 3.49982 5.9379 3.49982 10.5206C3.49699 15.5198 2.46775 16.4429 1.00989 18.2563C0.405857 19.0075 0.934954 20.1354 1.99144 20.1354H19.5266C20.5774 20.1354 21.1031 19.004 20.5025 18.2563Z" stroke="#3A3F51" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </Svg>
              </View>
              <View style={styles.notificationBadge}>
                <View style={styles.badgeCircle}>
                  <Text style={styles.badgeText}>6</Text>
                </View>
              </View>
            </View>
              <View style={styles.menuIcon}>
                <Svg width={20} height={17} viewBox="0 0 18 15" fill="none">
                  <Path d="M0 1.25C0 0.558594 0.558594 0 1.25 0H16.25C16.9414 0 17.5 0.558594 17.5 1.25C17.5 1.94141 16.9414 2.5 16.25 2.5H1.25C0.558594 2.5 0 1.94141 0 1.25ZM0 7.5C0 6.80859 0.558594 6.25 1.25 6.25H16.25C16.9414 6.25 17.5 6.80859 17.5 7.5C17.5 8.19141 16.9414 8.75 16.25 8.75H1.25C0.558594 8.75 0 8.19141 0 7.5ZM17.5 13.75C17.5 14.4414 16.9414 15 16.25 15H1.25C0.558594 15 0 14.4414 0 13.75C0 13.0586 0.558594 12.5 1.25 12.5H16.25C16.9414 12.5 17.5 13.0586 17.5 13.75Z" fill="#3A3F51" />
                </Svg>
              </View>
           </View>
         </View>
       </View>

      {/* Content */}
      <ScrollView style={styles.content} showsVerticalScrollIndicator={false}>
        {/* Filters */}
         <View style={styles.filtersContainer}>
           <View style={styles.sortDropdown}>
             <Text style={styles.sortLabel}>Ordenar por</Text>
             <TouchableOpacity style={styles.sortContainer} onPress={openModal}>
               <Text style={styles.sortSubLabel}>{selectedSortOption.category}:</Text>
               <Text style={styles.sortValue}>{selectedSortOption.option}</Text>
             </TouchableOpacity>
           </View>
           
           <View style={styles.searchContainer}>
            <Svg width={16} height={16} viewBox="0 0 16 16" fill="none" style={styles.searchIcon}>
              <Path d="M15 15L11.6556 11.6556M13.4444 7.22222C13.4444 10.6587 10.6587 13.4444 7.22222 13.4444C3.78578 13.4444 1 10.6587 1 7.22222C1 3.78578 3.78578 1 7.22222 1C10.6587 1 13.4444 3.78578 13.4444 7.22222Z" stroke="#7D8592" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round" />
            </Svg>
           <TextInput
              style={[
                styles.searchInput,
                Platform.select({ web: { outlineStyle: 'none', outlineWidth: 0 } }) as any,
              ]}
              placeholder="pesquise aqui"
              placeholderTextColor="#91929e"
              value={searchText}
              onChangeText={handleSearchTextChange}
            />
           </View>
         </View>

        {/* Products */}
         <View style={styles.productsContainer}>
           {sortedProducts.map((product, index) => (
             <React.Fragment key={product.id}>
               {renderProductCard(product)}
               {index < sortedProducts.length - 1 && (
                 <View style={styles.productDivider} />
               )}
             </React.Fragment>
           ))}
         </View>
      </ScrollView>

      {/* Bottom Navigation */}
       <View style={styles.bottomNavigation}>
         <View style={styles.bottomNavCurve} />
         <View style={styles.bottomNavContent}>
           <View style={styles.bottomNavSide}>
             <Svg width="23" height="19" viewBox="0 0 23 19" fill="none" style={styles.bottomNavIcon}>
               <Path d="M20.6131 2.87535H18.6511H16.7814H15.5365V1.57037C15.5365 0.761286 14.8722 0.100098 14.0496 0.100098H8.14597C7.32773 0.100098 6.65906 0.756936 6.65906 1.57037V2.87535H5.41411H3.54449H1.58688C0.764243 2.87535 0.0999756 3.53219 0.0999756 4.34128V16.6298C0.0999756 17.4389 0.764243 18.1001 1.58688 18.1001H3.54889H5.41851H16.7814H18.6511H20.6131C21.4313 18.1001 22.1 17.4433 22.1 16.6298V4.34128C22.0956 3.53219 21.4313 2.87535 20.6131 2.87535ZM7.10338 3.74534H15.0966H16.3415V17.2301H5.85403V3.74534H7.10338ZM7.54329 1.57037C7.54329 1.23978 7.81603 0.970083 8.15037 0.970083H14.054C14.3883 0.970083 14.6611 1.23978 14.6611 1.57037V2.87535H7.54329V1.57037ZM0.9798 16.6298V4.34128C0.9798 4.01068 1.25255 3.74099 1.58688 3.74099L5.41411 3.74534V10.7183V17.2301L1.58688 17.2258C1.25255 17.2301 0.9798 16.9604 0.9798 16.6298ZM5.41411 17.2301V10.7183V3.74534H4.9742V17.2301H5.41411ZM17.2214 17.2301V3.74534H16.7814V17.2301H17.2214ZM21.2158 16.6298C21.2158 16.9604 20.943 17.2301 20.6087 17.2301H16.7814V3.74534H20.6087C20.943 3.74534 21.2158 4.01503 21.2158 4.34563V16.6298Z" fill="#1777CF"/>
               <Path d="M5.41411 3.74534L1.58688 3.74099C1.25255 3.74099 0.9798 4.01068 0.9798 4.34128V16.6298C0.9798 16.9604 1.25255 17.2301 1.58688 17.2258L5.41411 17.2301M5.41411 3.74534H4.9742V17.2301H5.41411M5.41411 3.74534V10.7183V17.2301M16.7814 3.74534H17.2214V17.2301H16.7814M16.7814 3.74534V17.2301M16.7814 3.74534H20.6087C20.943 3.74534 21.2158 4.01503 21.2158 4.34563V16.6298C21.2158 16.9604 20.943 17.2301 20.6087 17.2301H16.7814M20.6131 2.87535H18.6511H16.7814H15.5365V1.57037C15.5365 0.761286 14.8722 0.100098 14.0496 0.100098H8.14597C7.32773 0.100098 6.65906 0.756936 6.65906 1.57037V2.87535H5.41411H3.54449H1.58688C0.764243 2.87535 0.0999756 3.53219 0.0999756 4.34128V16.6298C0.0999756 17.4389 0.764243 18.1001 1.58688 18.1001H3.54889H5.41851H16.7814H18.6511H20.6131C21.4313 18.1001 22.1 17.4433 22.1 16.6298V4.34128C22.0956 3.53219 21.4313 2.87535 20.6131 2.87535ZM7.10338 3.74534H15.0966H16.3415V17.2301H5.85403V3.74534H7.10338ZM7.54329 1.57037C7.54329 1.23978 7.81603 0.970083 8.15037 0.970083H14.054C14.3883 0.970083 14.6611 1.23978 14.6611 1.57037V2.87535H7.54329V1.57037Z" stroke="#1177CF" strokeWidth="0.2"/>
             </Svg>
             <Svg width="19" height="18" viewBox="0 0 19 18" fill="none" style={styles.bottomNavIcon}>
               <Path fillRule="evenodd" clipRule="evenodd" d="M9.25378 0C6.69974 0 4.62689 2.01269 4.62689 4.49118C4.62689 6.97031 6.69974 8.98236 9.25378 8.98236C11.8072 8.98236 13.8807 6.97031 13.8807 4.49118C13.8807 2.01269 11.8072 0 9.25378 0ZM9.25378 1.28319C11.0774 1.28319 12.5587 2.72101 12.5587 4.49118C12.5587 6.26199 11.0774 7.69916 9.25378 7.69916C7.42947 7.69916 5.94886 6.26199 5.94886 4.49118C5.94886 2.72101 7.42947 1.28319 9.25378 1.28319Z" fill="#3A3F51"/>
               <Path fillRule="evenodd" clipRule="evenodd" d="M1.32197 16.6815H9.53668C9.90155 16.6815 10.1977 16.969 10.1977 17.3231C10.1977 17.6773 9.90155 17.9647 9.53668 17.9647H0.660985C0.29546 17.9647 0 17.6779 0 17.3231C0 17.3231 0 16.7944 0 16.0399C0 12.8512 2.66311 10.2655 5.94886 10.2655H9.53668C9.90155 10.2655 10.1977 10.553 10.1977 10.9071C10.1977 11.2613 9.90155 11.5487 9.53668 11.5487H5.94886C3.39349 11.5487 1.32197 13.5595 1.32197 16.0399V16.6815Z" fill="#3A3F51"/>
               <Path fillRule="evenodd" clipRule="evenodd" d="M12.8416 11.5949H18.339C18.7039 11.5949 19 11.3075 19 10.9533C19 10.5992 18.7039 10.3117 18.339 10.3117H12.8416C12.4767 10.3117 12.1806 10.5992 12.1806 10.9533C12.1806 11.3075 12.4767 11.5949 12.8416 11.5949Z" fill="#3A3F51"/>
               <Path fillRule="evenodd" clipRule="evenodd" d="M12.8416 14.7978H18.339C18.7039 14.7978 19 14.5097 19 14.1562C19 13.802 18.7039 13.5146 18.339 13.5146H12.8416C12.4767 13.5146 12.1806 13.802 12.1806 14.1562C12.1806 14.5097 12.4767 14.7978 12.8416 14.7978Z" fill="#3A3F51"/>
               <Path fillRule="evenodd" clipRule="evenodd" d="M12.8416 18H18.339C18.7039 18 19 17.7126 19 17.3584C19 17.0042 18.7039 16.7168 18.339 16.7168H12.8416C12.4767 16.7168 12.1806 17.0042 12.1806 17.3584C12.1806 17.7126 12.4767 18 12.8416 18Z" fill="#3A3F51"/>
             </Svg>
           </View>
           
           <View style={styles.bottomNavSide}>
             <Svg width="22" height="19" viewBox="0 0 22 19" fill="none" style={styles.bottomNavIcon}>
               <Path d="M4.42116 15.9286V18.5H21.5V1.78571H4.42116V5.64285M4.42116 5.64285H21.5C21.5 12.7143 17.5788 15.9286 17.5788 15.9286H0.5C0.5 15.9286 4.42116 12.7143 4.42116 5.64285ZM8.38589 0.5V3.07143M17.5788 0.5V3.07143M12.9606 0.5V3.07143" stroke="#3A3F51" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round"/>
             </Svg>
             <Svg width="19" height="19" viewBox="0 0 19 19" fill="none" style={styles.bottomNavIcon}>
               <Path d="M11.9971 10.0087C11.6038 10.0087 11.2193 10.1253 10.8923 10.3438C10.5653 10.5623 10.3104 10.8729 10.1599 11.2362C10.0094 11.5996 9.97003 11.9994 10.0468 12.3852C10.1235 12.7709 10.3129 13.1253 10.591 13.4034C10.8691 13.6815 11.2234 13.8709 11.6092 13.9476C11.9949 14.0243 12.3947 13.9849 12.7581 13.8344C13.1215 13.6839 13.432 13.429 13.6506 13.102C13.8691 12.775 13.9857 12.3905 13.9857 11.9972C13.9857 11.4698 13.7762 10.964 13.4033 10.5911C13.0303 10.2182 12.5245 10.0087 11.9971 10.0087ZM11.9971 13.1287C11.7733 13.1287 11.5546 13.0623 11.3685 12.938C11.1825 12.8137 11.0375 12.637 10.9518 12.4302C10.8662 12.2235 10.8438 11.996 10.8874 11.7765C10.9311 11.557 11.0388 11.3554 11.1971 11.1972C11.3553 11.039 11.5569 10.9312 11.7764 10.8875C11.9959 10.8439 12.2234 10.8663 12.4301 10.9519C12.6368 11.0376 12.8135 11.1826 12.9379 11.3687C13.0622 11.5547 13.1285 11.7735 13.1285 11.9972C13.1285 12.2973 13.0093 12.5851 12.7972 12.7973C12.585 13.0095 12.2972 13.1287 11.9971 13.1287ZM8.19141 6.20295C8.19141 5.80965 8.07478 5.42518 7.85627 5.09816C7.63776 4.77114 7.32719 4.51626 6.96383 4.36575C6.60046 4.21524 6.20063 4.17586 5.81488 4.25259C5.42914 4.32932 5.07481 4.51871 4.7967 4.79682C4.5186 5.07493 4.3292 5.42926 4.25247 5.815C4.17574 6.20075 4.21512 6.60058 4.36563 6.96395C4.51615 7.32731 4.77103 7.63788 5.09804 7.85639C5.42506 8.0749 5.80953 8.19152 6.20283 8.19152C6.73024 8.19152 7.23604 7.98201 7.60897 7.60908C7.9819 7.23616 8.19141 6.73035 8.19141 6.20295ZM5.07141 6.20295C5.07141 5.97918 5.13776 5.76043 5.26209 5.57436C5.38641 5.3883 5.56312 5.24329 5.76986 5.15765C5.9766 5.07201 6.20409 5.04961 6.42357 5.09326C6.64304 5.13692 6.84464 5.24468 7.00288 5.40291C7.16111 5.56115 7.26887 5.76275 7.31252 5.98222C7.35618 6.2017 7.33377 6.42919 7.24814 6.63593C7.1625 6.84267 7.01749 7.01938 6.83142 7.1437C6.64536 7.26802 6.42661 7.33438 6.20283 7.33438C5.90276 7.33438 5.61498 7.21518 5.40279 7.00299C5.19061 6.79081 5.07141 6.50303 5.07141 6.20295ZM13.1903 5.00981C13.1507 4.97 13.1037 4.93841 13.052 4.91685C13.0002 4.89529 12.9446 4.88419 12.8885 4.88419C12.8325 4.88419 12.7769 4.89529 12.7251 4.91685C12.6734 4.93841 12.6264 4.97 12.5868 5.00981L5.00969 12.587C4.96989 12.6265 4.93829 12.6735 4.91673 12.7253C4.89517 12.777 4.88407 12.8326 4.88407 12.8887C4.88407 12.9448 4.89517 13.0003 4.91673 13.0521C4.93829 13.1039 4.96989 13.1509 5.00969 13.1904C5.04897 13.2306 5.0959 13.2626 5.14772 13.2844C5.19953 13.3062 5.25518 13.3175 5.31141 13.3175C5.36763 13.3175 5.42328 13.3062 5.4751 13.2844C5.52691 13.2626 5.57384 13.2306 5.61312 13.1904L13.1903 5.61324C13.2301 5.57372 13.2617 5.52672 13.2832 5.47494C13.3048 5.42315 13.3159 5.36762 13.3159 5.31152C13.3159 5.25543 13.3048 5.1999 13.2832 5.14811C13.2617 5.09633 13.2301 5.04933 13.1903 5.00981Z" fill="#3A3F51"/>
               <Path d="M9.09998 0.100098C7.31995 0.100098 5.57989 0.627938 4.09985 1.61687C2.6198 2.6058 1.46625 4.01141 0.785064 5.65595C0.103875 7.30048 -0.0743549 9.11008 0.272912 10.8559C0.620179 12.6017 1.47735 14.2054 2.73602 15.4641C3.99469 16.7227 5.59834 17.5799 7.34416 17.9272C9.08999 18.2744 10.8996 18.0962 12.5441 17.415C14.1887 16.7338 15.5943 15.5803 16.5832 14.1002C17.5721 12.6202 18.1 10.8801 18.1 9.1001C18.0963 6.71426 17.147 4.42718 15.4599 2.74014C13.7729 1.0531 11.4858 0.103725 9.09998 0.100098ZM9.09998 17.243C7.48947 17.243 5.91513 16.7654 4.57605 15.8706C3.23696 14.9759 2.19327 13.7041 1.57696 12.2162C0.960647 10.7283 0.799391 9.09106 1.11358 7.5115C1.42778 5.93194 2.20331 4.48103 3.34211 3.34223C4.48091 2.20343 5.93183 1.4279 7.51138 1.1137C9.09094 0.799509 10.7282 0.960765 12.2161 1.57708C13.704 2.19339 14.9758 3.23708 15.8705 4.57617C16.7653 5.91525 17.2428 7.48959 17.2428 9.1001C17.241 11.2592 16.3825 13.3293 14.8558 14.856C13.3292 16.3826 11.259 17.2411 9.09998 17.243Z" fill="#3A3F51"/>
               <Path d="M11.9971 10.0087C11.6038 10.0087 11.2193 10.1253 10.8923 10.3438C10.5653 10.5623 10.3104 10.8729 10.1599 11.2362C10.0094 11.5996 9.97003 11.9994 10.0468 12.3852C10.1235 12.7709 10.3129 13.1253 10.591 13.4034C10.8691 13.6815 11.2234 13.8709 11.6092 13.9476C11.9949 14.0243 12.3947 13.9849 12.7581 13.8344C13.1215 13.6839 13.432 13.429 13.6506 13.102C13.8691 12.775 13.9857 12.3905 13.9857 11.9972C13.9857 11.4698 13.7762 10.964 13.4033 10.5911C13.0303 10.2182 12.5245 10.0087 11.9971 10.0087ZM11.9971 13.1287C11.7733 13.1287 11.5546 13.0623 11.3685 12.938C11.1825 12.8137 11.0375 12.637 10.9518 12.4302C10.8662 12.2235 10.8438 11.996 10.8874 11.7765C10.9311 11.557 11.0388 11.3554 11.1971 11.1972C11.3553 11.039 11.5569 10.9312 11.7764 10.8875C11.9959 10.8439 12.2234 10.8663 12.4301 10.9519C12.6368 11.0376 12.8135 11.1826 12.9379 11.3687C13.0622 11.5547 13.1285 11.7735 13.1285 11.9972C13.1285 12.2973 13.0093 12.5851 12.7972 12.7973C12.585 13.0095 12.2972 13.1287 11.9971 13.1287ZM8.19141 6.20295C8.19141 5.80965 8.07478 5.42518 7.85627 5.09816C7.63776 4.77114 7.32719 4.51626 6.96383 4.36575C6.60046 4.21524 6.20063 4.17586 5.81488 4.25259C5.42914 4.32932 5.07481 4.51871 4.7967 4.79682C4.5186 5.07493 4.3292 5.42926 4.25247 5.815C4.17574 6.20075 4.21512 6.60058 4.36563 6.96395C4.51615 7.32731 4.77103 7.63788 5.09804 7.85639C5.42506 8.0749 5.80953 8.19152 6.20283 8.19152C6.73024 8.19152 7.23604 7.98201 7.60897 7.60908C7.9819 7.23616 8.19141 6.73035 8.19141 6.20295ZM5.07141 6.20295C5.07141 5.97918 5.13776 5.76043 5.26209 5.57436C5.38641 5.3883 5.56312 5.24329 5.76986 5.15765C5.9766 5.07201 6.20409 5.04961 6.42357 5.09326C6.64304 5.13692 6.84464 5.24468 7.00288 5.40291C7.16111 5.56115 7.26887 5.76275 7.31252 5.98222C7.35618 6.2017 7.33377 6.42919 7.24814 6.63593C7.1625 6.84267 7.01749 7.01938 6.83142 7.1437C6.64536 7.26802 6.42661 7.33438 6.20283 7.33438C5.90276 7.33438 5.61498 7.21518 5.40279 7.00299C5.19061 6.79081 5.07141 6.50303 5.07141 6.20295ZM13.1903 5.00981C13.1507 4.97 13.1037 4.93841 13.052 4.91685C13.0002 4.89529 12.9446 4.88419 12.8885 4.88419C12.8325 4.88419 12.7769 4.89529 12.7251 4.91685C12.6734 4.93841 12.6264 4.97 12.5868 5.00981L5.00969 12.587C4.96989 12.6265 4.93829 12.6735 4.91673 12.7253C4.89517 12.777 4.88407 12.8326 4.88407 12.8887C4.88407 12.9448 4.89517 13.0003 4.91673 13.0521C4.93829 13.1039 4.96989 13.1509 5.00969 13.1904C5.04897 13.2306 5.0959 13.2626 5.14772 13.2844C5.19953 13.3062 5.25518 13.3175 5.31141 13.3175C5.36763 13.3175 5.42328 13.3062 5.4751 13.2844C5.52691 13.2626 5.57384 13.2306 5.61312 13.1904L13.1903 5.61324C13.2301 5.57372 13.2617 5.52672 13.2832 5.47494C13.3048 5.42315 13.3159 5.36762 13.3159 5.31152C13.3159 5.25543 13.3048 5.1999 13.2832 5.14811C13.2617 5.09633 13.2301 5.04933 13.1903 5.00981Z" stroke="#3A3F51" strokeWidth="0.2"/>
               <Path d="M9.09998 0.100098C7.31995 0.100098 5.57989 0.627938 4.09985 1.61687C2.6198 2.6058 1.46625 4.01141 0.785064 5.65595C0.103875 7.30048 -0.0743549 9.11008 0.272912 10.8559C0.620179 12.6017 1.47735 14.2054 2.73602 15.4641C3.99469 16.7227 5.59834 17.5799 7.34416 17.9272C9.08999 18.2744 10.8996 18.0962 12.5441 17.415C14.1887 16.7338 15.5943 15.5803 16.5832 14.1002C17.5721 12.6202 18.1 10.8801 18.1 9.1001C18.0963 6.71426 17.147 4.42718 15.4599 2.74014C13.7729 1.0531 11.4858 0.103725 9.09998 0.100098ZM9.09998 17.243C7.48947 17.243 5.91513 16.7654 4.57605 15.8706C3.23696 14.9759 2.19327 13.7041 1.57696 12.2162C0.960647 10.7283 0.799391 9.09106 1.11358 7.5115C1.42778 5.93194 2.20331 4.48103 3.34211 3.34223C4.48091 2.20343 5.93183 1.4279 7.51138 1.1137C9.09094 0.799509 10.7282 0.960765 12.2161 1.57708C13.704 2.19339 14.9758 3.23708 15.8705 4.57617C16.7653 5.91525 17.2428 7.48959 17.2428 9.1001C17.241 11.2592 16.3825 13.3293 14.8558 14.856C13.3292 16.3826 11.259 17.2411 9.09998 17.243Z" stroke="#3A3F51" strokeWidth="0.2"/>
             </Svg>
           </View>
           
           <View style={styles.centerButton}>
             <View style={{position: 'relative', justifyContent: 'center', alignItems: 'center'}}>
               <Svg width="52" height="59" viewBox="0 0 52 59" fill="none">
                 <Path d="M22.9807 0.803828C24.8371 -0.267969 27.1243 -0.267969 28.9807 0.803828L48.9615 12.3397C50.8179 13.4115 51.9615 15.3923 51.9615 17.5359V40.6077C51.9615 42.7513 50.8179 44.732 48.9615 45.8038L28.9807 57.3397C27.1243 58.4115 24.8371 58.4115 22.9807 57.3397L2.99995 45.8038C1.14354 44.732 -4.95911e-05 42.7513 -4.95911e-05 40.6077V17.5359C-4.95911e-05 15.3923 1.14354 13.4115 2.99995 12.3397L22.9807 0.803828Z" fill="#1777CF"/>
               </Svg>
               <Svg width="18" height="18" viewBox="0 0 18 18" fill="none" style={{position: 'absolute'}}>
                 <Path d="M9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0ZM10.0407 13.5997V14.5461H8.0231V13.6053C6.37812 13.3053 5.3591 12.2231 5.3591 10.5849H7.94088C7.94088 11.196 8.44038 11.5013 8.99928 11.5013C9.5234 11.5013 10.0229 11.2345 10.0229 10.7686C10.0229 10.2028 9.32206 10.0388 8.46288 9.82645C7.15097 9.50044 5.48057 9.0954 5.48057 7.03645C5.48057 5.57035 6.38928 4.61909 7.93238 4.34315V3.45395H9.94997V4.3524C11.4836 4.65156 12.3481 5.66219 12.3481 7.16652L9.84118 7.17217C9.84118 6.64204 9.41695 6.38309 8.89859 6.38309C8.44823 6.38309 8.01824 6.56845 8.01824 6.95909C8.01824 7.4767 8.69782 7.64636 9.55847 7.86456C10.8954 8.20973 12.6411 8.64756 12.6411 10.7187C12.641 12.3358 11.5968 13.3114 10.0407 13.5997Z" fill="#FCFCFC"/>
               </Svg>
             </View>
           </View>
         </View>
       </View>

       {/* Modal de Ordenação */}
       <ModalOrderingProducts
         isVisible={isModalVisible}
         onClose={closeModal}
         onSortSelection={handleSortSelection}
         selectedSortOption={selectedSortOption}
       />
    </SafeAreaView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fcfcfc',
    paddingBottom: 30,
  },
  header: {
    backgroundColor: '#fcfcfccc',
    paddingTop: 1,
    paddingBottom: 1,
  },
  statusBar: {
     flexDirection: 'row',
     alignItems: 'center',
     justifyContent: 'space-between',
     paddingHorizontal: 20,
     paddingVertical: 10,
   },
   statusTime: {
     fontSize: 16,
     fontFamily: 'Inter_600SemiBold',
     color: '#000',
   },
   statusIcons: {
     flexDirection: 'row',
     alignItems: 'center',
     gap: 4,
   },
   statusTimeHidden: {
     opacity: 0,
   },
  headerContent: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    paddingBottom: 5,
  },
  titleContainer: {
    paddingLeft: 16,
    paddingRight: 126,
  },
  headerTitle: {
    fontSize: 18,
    fontFamily: 'Inter_700Bold',
    color: '#3a3f51',
  },
  headerActions: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingRight: 16,
    width: 71,
  },
  notificationContainer: {
    position: 'relative',
    marginLeft: -10,
    width: 28,
    height: 28,
  },
  bellIcon: {
    position: 'absolute',
    top: 4,
    left: 0,
    width: 22,
    height: 26,
  },
  notificationBadge: {
    position: 'absolute',
    top: 0,
    left: 10,
  },
  badgeCircle: {
    width: 16,
    height: 16,
    borderRadius: 8,
    backgroundColor: '#1777cf',
    display: 'flex',
    justifyContent: 'center',
    alignItems: 'center',
  },
  badgeText: {
    fontSize: 12,
    fontFamily: 'Inter_500Medium',
    color: '#fcfcfc',
    textAlign: 'center',
  },
  menuIcon: {
    marginLeft: 16,
    width: 18,
    height: 31,
    paddingTop: 10,
  },
  content: {
    flex: 1,
    backgroundColor: '#fcfcfc',
    marginTop: 2,
  },
  filtersContainer: {
    paddingHorizontal: 16,
    paddingTop: 10,
    gap: 15,
    width: '100%',
  },
  sortDropdown: {
    flexDirection: 'column',
    alignItems: 'flex-start',
    width: '100%',
    height: 77,
    gap: 5,
  },
  sortLabel: {
    fontSize: 12,
    fontFamily: 'Inter_500Medium',
    color: '#7d8592',
    lineHeight: 15,
    paddingHorizontal: 5,
    paddingVertical: 0,
  },
  sortContainer: {
    flexDirection: 'column',
    alignItems: 'flex-start',
    alignSelf: 'stretch',
    justifyContent: 'center',
    borderWidth: 1,
    borderColor: '#d8e0f0',
    borderRadius: 8,
    padding: 9,
    gap: 5,
  },
  sortSubLabel: {
    fontSize: 12,
    fontFamily: 'Inter_500Medium',
    color: '#7d8592',
    lineHeight: 15,
  },
  sortValue: {
    fontSize: 14,
    fontFamily: 'Inter_400Regular',
    color: '#3a3f51',
    lineHeight: 17,
  },
  searchContainer: {
    flexDirection: 'row',
    alignItems: 'center',
    borderWidth: 1,
    borderColor: '#d8e0f0',
    borderRadius: 8,
    paddingLeft: 14,
    height: 35,
    gap: 10,
    width: '100%',
  },
  searchIcon: {
    width: 16,
    height: 16,
  },
  searchInput: {
    flex: 1,
    fontSize: 14,
    fontFamily: 'Inter_400Regular',
    color: '#3A3F51',
  },
  productsContainer: {
    paddingHorizontal: 16,
    paddingTop: 17,
    gap: 0,
    width: '100%',
  },
  productCard: {
    flexDirection: 'row',
    gap: 12,
    width: '100%',
  },
  productImageContainer: {
    width: 78,
    height: 135,
  },
  productImage: {
    width: 78,
    height: 135,
    borderRadius: 12,
  },
  productInfo: {
    flex: 1,
    gap: 10,
  },
  productTitle: {
    fontSize: 14,
    fontFamily: 'Inter_600SemiBold',
    color: '#3a3f51',
    lineHeight: 17,
  },
  divider: {
    height: 0.1,
    backgroundColor: '#d8e0f0',
  },
  productDetail: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
  },

  detailLabel: {
    fontSize: 14,
    fontFamily: 'Inter_400Regular',
    color: '#7d8592',
    lineHeight: 17,
  },
  detailValue: {
    fontSize: 14,
    fontFamily: 'Inter_400Regular',
    color: '#1777CF',
    lineHeight: 17,
  },
  productDivider: {
     width: '100%',
     height: 1,
     backgroundColor: '#d8e0f0',
     marginVertical: 16,
   },
  bottomNavigation: {
    backgroundColor: '#fcfcfc',
  },
  bottomNavCurve: {
    height: 30,
    backgroundColor: '#f4f4f4',
    borderTopLeftRadius: 21,
    borderTopRightRadius: 20,
  },
  bottomNavContent: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center',
    paddingHorizontal: 27,
    paddingTop: 15,
    gap: 88,
    position: 'relative',
  },
  bottomNavSide: {
    flexDirection: 'row',
    alignItems: 'flex-start',
    gap: 10,
    width: 130,
  },
  bottomNavIcon: {
    flex: 1,
    width: 60,
    height: 24,
  },
  centerButton: {
    position: 'absolute',
    top: -23,
    left: '50%',
    marginLeft: -30,
    width: 60,
    height: 60,
    justifyContent: 'center',
    alignItems: 'center',
  },
  centerButtonIcon: {
    width: 16,
    height: 16,
  },
});

export default ProductListScreen;